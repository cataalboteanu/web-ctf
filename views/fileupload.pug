extends layout

block content

  style.
    @import url("/stylesheets/fileupload/upload.css");

  button.btn.btn-outline-dark(type="button", data-bs-toggle="modal", data-bs-target="#exampleModal").
      See description
  //- Help modal
  .modal.fade#exampleModal(tabindex="-1", aria-labelledby="exampleModalLabel", aria-hidden="true", data-bs-backdrop="static")
      .modal-dialog.modal-dialog-centered
        .modal-content
          .modal-header
            h3.modal-title#exampleModalLabel File Upload
            //-button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
          .modal-body.fs-6.
            This site presents an Unrestricted File Upload vulnerability that can get you a reverse shell on the server.
            Keep in mind that the file that starts the server is located in the bin folder.
            
          .modal-footer
            button.btn.btn-primary(type="button", data-bs-dismiss="modal") OK

  .container.py-5
  header.text-white.text-center
    h1.display-4 Free image upload
    img.mb-4(src="https://bootstrapious.com/i/snippets/sn-img-upload/image.svg", alt, width="150")
  .row.py-4
    .col-lg-6.mx-auto
      //-  Upload image input
    form(enctype="multipart/form-data", method="POST", action="/fileupload")
      .input-group.mb-3.px-2.py-2.rounded-pill.bg-white.shadow-sm
        input#upload.form-control.border-0(type="file", name="file")
        label#upload-label.font-weight-light.text-muted(for="upload") Choose file
        .input-group-append
          label.btn.btn-light.m-0.rounded-pill.px-4(for="upload")
            i.fa.fa-cloud-upload.mr-2.text-muted
            small.text-uppercase.font-weight-bold.text-muted
      .d-grid.col-1.mx-auto
        button.btn.btn-outline-dark(type="submit", name="submit") Upload
      //-  Uploaded image area
      if(message)
        h4.text-center.text-danger= message
      if(succes)
        br
        h4.text-center.text-success= succes
      br
      p.font-italic.text-white.text-center The image uploaded will be rendered inside the box below.
      p#filename.text-white.text-center
      
      .image-area.mt-4
        img#imageResult.img-fluid.rounded.shadow-sm.mx-auto.d-block(src="#", alt)


  script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js")
  script(src="/javascript/showUploadedImage.js")

